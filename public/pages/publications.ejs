<div id="publications" class="page">
  <h2>Publications</h2>
  <div class="row">
    <div class="col-2 border rounded border-white">
      <nav id="navbar-publications" class="navbar sticky-top px-0">
        <h5 class="my-3">jump to:</h5>
        <ul class="nav flex-column">
          <% let first = true %> 
          <% publications.forEach(publication => { %>
            <li class="nav-item">
              <% if (first === true) { %> 
                <a class="nav-link px-0" href="#<%= publication.id %>"><%= publication.name %></a>
                <% first = false %> 
              <% } else { %>
                <a class="nav-link px-0" href="#<%= publication.id %>"><%= publication.name %></a>
              <% } %> 
            </li>
          <% }) %> 
        </ul>
      </nav>
    </div>
    <div class="catalogue-list publication-list col-10">
      <% publications.forEach(publication => { %>
        <div class="catalogue-item">
          <h3 id="<%= publication.id %>" class=""><%= publication.name %></h3>
          <div class="catalogue-references m-4">
            <div class="catalogue-reference publication-artists">
              <h4>Authors / Artists / Researchers</h4>
              <div class="catalogue-reference-content m-3">
                <ul>
                  <% publication.artists.forEach(publicationArtist => { %>
                    <li>                
                      <%= publicationArtist.name %> 
                    </li>
                  <% }) %> 
                </ul>
              </div>
            </div>
            <div class="catalogue-reference publication-links">
              <h4>Links</h4>
              <div class="catalogue-reference-content m-3">
                <% links.forEach(link => { %>
                  <% link.publications.forEach(linkPublication => { %>
                    <% if (linkPublication.id == publication.id && link.linkType == 'website') { %>
                      <ul>
                        <li>
                          <%= link.title %> (<%= link.linkType %>)
                        </li>
                        <li>
                          <%= link.description %>
                        </li>
                        <li>
                          <%= link.linkUrl %>
                        </li>
                      </ul>
                    <% } %> 
                    <% if (linkPublication.id == publication.id && link.linkType == 'book') { %>
                      <ul>
                        <li>
                          <%= link.title %> (<%= link.linkType %>)
                        </li>
                        <li>
                          <%= link.description %>
                        </li>
                        <li>
                          <%= link.linkUrl %>
                        </li>
                      </ul>
                    <% } %> 
                    <% if (linkPublication.id == publication.id && link.linkType == 'article') { %>
                      <ul>
                        <li>
                          <%= link.title %> (<%= link.linkType %>)
                        </li>
                        <li>
                          <%= link.description %>
                        </li>
                        <li>
                          <%= link.linkUrl %>
                        </li>
                      </ul>
                    <% } %> 
                    <% if (linkPublication.id == publication.id && link.linkType == 'video') { %>
                      <ul>
                        <li>
                          <%= link.title %> (<%= link.linkType %>)
                        </li>
                        <li>
                          <%= link.description %>
                        </li>
                        <li>
                          <%= link.linkUrl %>
                        </li>
                      </ul>
                    <% } %> 
                    <% if (linkPublication.id == publication.id && link.linkType == 'channel') { %>
                      <ul>
                        <li>
                          <%= link.title %> (<%= link.linkType %>)
                        </li>
                        <li>
                          <%= link.description %>
                        </li>
                        <li>
                          <%= link.linkUrl %>
                        </li>
                      </ul>
                    <% } %> 
                    <% if (linkPublication.id == publication.id && link.linkType == 'library') { %>
                      <h5> <%= link.linkType %>  </h5>
                      <ul>
                        <li>
                          <%= link.title %>
                        </li>
                        <li>
                          <%= link.description %>
                        </li>
                        <li>
                          <%= link.linkUrl %>
                        </li>
                      </ul>
                    <% } %>
                  <% }) %> 
                <% }) %> 
              </div>         
            </div>                  
          </div>
        </div>
      <% }) %>
    </div>
  </div>
</div>