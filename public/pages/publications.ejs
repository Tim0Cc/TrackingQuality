<div id="publications" class="page">
  <h2>Publications</h2>
  <div class="row">
    <div class="navbar-container col-12 col-sm-4 col-md-3 col-lg-2">
      <nav id="navbar-publications" class="page-navbar">
        <ul class="nav flex-column">
          <h5 class="my-3">jump to:</h5>
          <% let first = true %> 
          <% publications.forEach(publication => { %>
            <li class="nav-item">
              <% if (first === true) { %> 
                <a class="nav-link px-0" href="#<%= publication.id %>"><%= publication.name %></a>
                <% first = false %> 
              <% } else { %>
                <a class="nav-link px-0" href="#<%= publication.id %>"><%= publication.name %></a>
              <% } %> 
            </li>
          <% }) %> 
        </ul>
      </nav>
    </div>
    <div class="catalogue-list publication-list col-12 col-sm-8 col-md-9 col-lg-10">
      <% publications.forEach(publication => { %>
        <div class="catalogue-item">
          <h3 id="<%= publication.id %>" class=""><%= publication.name %></h3>
          <div class="catalogue-references">
            <div class="catalogue-reference publication-links">
              <div class="catalogue-reference-content">
                <% links.forEach(link => { %>
                  <ul>
                    <% link.publications.forEach(linkPublication => { %>
                      <% if (linkPublication.id == publication.id && link.linkType == 'website') { %>
                        <li>
                          <a href="<%= link.linkUrl %>" target="_blank" rel="noopener noreferrer"><%= link.title %></a> <span>[<%= link.linkType %>]</span>
                          <p><%= link.description %></p>
                        </li>
                      <% } %> 
                      <% if (linkPublication.id == publication.id && link.linkType == 'book') { %>
                        <li>
                          <a href="<%= link.linkUrl %>" target="_blank" rel="noopener noreferrer"><%= link.title %></a> <span>[<%= link.linkType %>]</span>
                          <p><%= link.description %></p>
                        </li>
                      <% } %> 
                      <% if (linkPublication.id == publication.id && link.linkType == 'article') { %>
                        <li>
                          <a href="<%= link.linkUrl %>" target="_blank" rel="noopener noreferrer"><%= link.title %></a> <span>[<%= link.linkType %>]</span>
                          <p><%= link.description %></p>
                        </li>
                      <% } %> 
                      <% if (linkPublication.id == publication.id && link.linkType == 'video') { %>
                        <li>
                          <a href="<%= link.linkUrl %>" target="_blank" rel="noopener noreferrer"><%= link.title %></a> <span>[<%= link.linkType %>]</span>
                          <p><%= link.description %></p>
                        </li>
                      <% } %> 
                      <% if (linkPublication.id == publication.id && link.linkType == 'channel') { %>
                        <li>
                          <a href="<%= link.linkUrl %>" target="_blank" rel="noopener noreferrer"><%= link.title %></a> <span>[<%= link.linkType %>]</span>
                          <p><%= link.description %></p>
                        </li>
                      <% } %> 
                      <% if (linkPublication.id == publication.id && link.linkType == 'library') { %>
                        <li>
                          <a href="<%= link.linkUrl %>" target="_blank" rel="noopener noreferrer"><%= link.title %></a> <span>[<%= link.linkType %>]</span>
                          <p><%= link.description %></p>
                        </li>
                      <% } %> 
                    <% }) %> 
                  </ul>
                <% }) %> 
              </div>         
            </div> 
            <div class="catalogue-reference publication-artists">
              <div class="catalogue-reference-content m-3">             
                <% publication.artists.forEach(publicationArtist => { %>
                  <span>| <a href="/artists/#<%= publicationArtist.id %>"><%= publicationArtist.name %></a></span>
                <% }) %> 
                <span>|</span>
              </div>
            </div>                 
          </div>
        </div>
      <% }) %>
    </div>
  </div>
</div>